🔗[KISA 스마트공장 사이버보안 가이드 기반](https://www.kisa.or.kr/2060205/form?postSeq=6&lang_type=KO&page=)

### 스마트공장

| 단계 | 장점 |
| --- | --- |
| 설계 | 시뮬레이션을 통해 생산될 제품의 성능을 확인함으로써 제작기간 단축 |
| 생산 | 자제관리 - 현장기기 - 제어시스템 실시간 통신으로 생산력 증가<br>실시간 공장 관리로 돌발사고 피해 최소화 |
| 유통 | 생산현황 및 실시간 수,발주를 통한 재고감소 및 비용절감  |

<br>

### 스마트 공장 수준별 구축 형태 🌆

스마트공장을 IT기술활용정도 및 역량 수준에 따라 4단계로 구분

| 단계 | 자동화 |
| --- | --- |
| 고도화 (구현X) | 제어자동화 및 디지털식별이 결합된 IoT형 자동화  |
| 중간2 | 설비제어 자동화 |
| 중간1 | 설비로부터 실시간 데이터 수집 |
| 기초 | 바코드 RFID로 기초적 물류정보 수집 수준 |

<br>

<img src="https://github.com/user-attachments/assets/c4ac9d71-c681-4230-960a-786fefc89c92" width="800">

- 현장자동화 : 로봇을 통해 실질적인 **제품 생산**
- 제어자동화 : 스마트공장의 생산 설비로부터 입수한 정보를 분석. 생산설비 **모니터링 및 제어**
공장제거(PLC) , 컴퓨터수치제어(CNC) , 산업용 센서 포함
- 응용시스템 : **플랫폼 상의 전반적인 관리**를 수행하는 최상위 영역

<br>

## 스마트공장 보안 위협 😈

대표적으로 보안 솔루션이 적용되기 어려운 산업용 설비가 외부 인터넷망에 직접 연결되어 바이러스에 감염되거나, 펌웨어 업그레이드 또는 단순 점검을 위한 방문 시 USB를 활용하여 악성코드 심는 방법 

<img src="https://github.com/user-attachments/assets/0561bdf6-f79d-40f2-87bc-01dfb22c3c1b" width="800">

- 1️⃣ : 악의적인 활동. DoS , 멀웨어 , APT , 브루트포스 등등..
- 2️⃣ : 도청. MITM , IoT통신 프로토콜 하이재킹 , 네트워크 정보 노출
- 3️⃣ : 물리적 공격
- 4️⃣ : 사고. 직원에 의한 프로세스 중단 및 물리적 손상
- 5️⃣ : 고장/오작동

<br>

### **사례**

| 시기 | 대상 | 피해 내용 |
| --- | --- | --- |
| 2014 | 유럽 SCADA 시스템 | 유럽(SCADA) 시스템 설치 프로그램에 포함된 하벡스(Havex) 멀웨어 발견 |
| 2014 | 한국 에너지 기업 다수 | 한전과 한국수력원자력 외 에너지 기업 자료 유출 |
| 2014 | 일본 원자력 발전소 | 악성코드 감염으로 인한 직원정보 유출 |
| 2015 | 우크라이나 전력시설 | Malware를 통해 발전소 제어시스템을 장악하여 정전을 유발, 8만여 가구 정전 발생 |
| 2015 | 한국 교통시설 | 항만, VTS, 지하철, 대중교통 관련 시설에 대한 공격 발생 |
| 2016 | 미국 수처리 회사 | PLC 조작을 통해 수처리 관련 화학물질의 양을 조작, 2백 50만명 이상의 고객 지불 정보 유출 |
| 2016 | 미국 전력 | 랜섬웨어가 첨부된 이메일을 통한 스피어 피싱 공격으로 내부 네트워크 감염 확산, 회사 시스템 일시 중단 |
| 2017 | 일본 혼다 자동차 | 사야마 공장 워너크라이 랜섬웨어 감염으로 약 48시간 동안 엔진 생산과 조립 중단 |
| 2017 | 미국 달라스 | 비상 사이렌 무선통신망 해킹으로 달라스의 비상 사이렌이 15시간 동안 가동 |
| 2017 | 석유, 철강, 자동차 제조공장 등 | 워너크라이, 페트야 랜섬웨어 확산 |
| 2018 | 대만 TSMC | USB를 통한 악성 코드 감염으로 하루 동안 일부 공장 내 생산라인 가동 중단 |
| 2019 | 노르웨이 노르스크 하이드로 | 랜섬웨어 감염으로 인한 생산 차질 |
| 2019 | 벨기에 아스코 인더스트리 | 랜섬웨어 감염으로 인한 생산 시스템 마비 |

<br>

## 보안 요구사항 🛡️

사용자의 신원, 장치 등의 신원을 검증하기 위한 기능을 제공해야한다.

패스워드 관리 - 솔트를 추가. 암호 알고리즘 보안 강도는 112비트 이상 

인증 실패 시 관련 정보에 대한 메시지 (잘못된ID, 잘못된PW)를 제공하지 않아야 한다.

권한 분리 - 직무를 분리하고 각 권한별 프로세스 접근 권한 분리 

네트워크 영역분리 - 중요도가 높은 시스템의 네트워크를 낮은 시스템 네트워크와 물리적 또는 논리적으로 분리 

<br>

**보안 등급에 따른 장소 구분 예**

| 보안등급 | 접근가능 |
| --- | --- |
| 공용구역 | 모든 사람에게 공개 |
| 접견구역 | 임직원 , 출입이 허가된 방문자만 출입 가능  |
| 제한구역 | 사전에 보안책임자로부터 허가를 받은 사람 |
| 통제구역 | 업무관련자 및 사전에 보안총괄책임자로부터 허가를 받은 사람.<br>직원의 동행이 반드시 필요  |

<br>

### 스마트공장의 적절한 네트워크 분리 방안 ⚡

중소형 공장의 경우 중요정보가 유동되는 연구개발 부서의 네트워크와 일반 업무네트워크, 공장 제어를 위한 ICS 네트워크가 명확히 분리되지 않은 것으로 파악 

**일반적으로 ICS는 인터넷접속, 이메일 사용이 불가능하다.** 🔽 **연결하는 방법** 🔽

1. 기업의 업무 네트워크와 ICS네트워크 간 직접적인 통신 연결을 하지 않고 중간에 DMZ영역 구축 
2. DMZ 영역에 패치관리시스템, 안티바이러스 서버 등을 위치시켜 관리 수행 

또는 VPN 이용.

VPN이란 공중 네트워크를 사설 네트워크처럼 사용할 수 있도록 인증과 데이터 암호화를 이용헤 보안을 강화한 기술

<br>

### 전송 데이터 보호 📶

| 종류 | 예시 |
| --- | --- |
| Bluetooth | BLE 4.0/4.1를 포함한 낮은 버전 : 보안모드1 / 보안레벨3<br>BLE 4.2 : 보안모드1 / 보안레벨4 |
| WiFi | WPA2 사용<br>※ WAP2-PSK 의 경우 비밀키 유추 가능 문제 있음  |
| SSL/TLS | 최신 버전 사용. (TLS 1.1 이하 비활성화) |

➕ **추가**

- 공장 내 장비들 대부분이 WinXP , Win2003 등 공식적인 유지보수 지원이 종료된 OS를 사용
⇒ 24시간 운영해야하기 때문에 패치 할 시간 없음

- 해외에 진출한 국내 기업의 근로자가 대부분 현지인이더라도 핵심기술 및 시설의 보안담당자는 한국인이 맡는다.

<br>

### **퇴직 시 보안 관련 서약서 작성 고려사항** 📄

| 시기 | 내용 |
| --- | --- |
| 입사 시 | 회사의 일반적이고 정형화된 보안규칙 서명 및 보안각서 작성 |
| 재직 중 프로젝트 참여 | 중요정보 보호가 필요한 업무나 프로젝트 참여시 관련 내용을 구체적으로 기재하여 중요정보보호서약서 작성 |
| 퇴직 시 | 보유한 중요정보 반납서 및 퇴직자가 접근, 보유했던 중요정보를 고려하여 경업금지기간, 분야를 한정한 경업금지약정서 작성  |

<br>

### 중요 정보의 보안등급 부여 📔

중요정보의 보안등급은 조직에서 정한 중요도 평가기준에 따라 정한다

| 중요정보 보안등급 | 설명 |
| --- | --- |
| 1급(비밀정보) | 일부에게 제공되는 민감정보 <br>(고객 비밀정보, 개발 SW코드, 제품설계서, 회사 및 경영정보) |
| 2급(대외비정보) | 회사직원 모두에게 공개 (견적서, 제안서, 거래처 목록) |
| 3급(일반정보) | 외부에 공개 (회사 소개자료, 제품설명자료) |

<br>

**평가기준 예**

- 기업 이미지가 회복하기 어려울 정도로 추락하는가?
- 막대한 경제적 손실이 발생하는가?
- 공장운영에 중대한 장애를 유발하거나 금전적 손실이 발생하는가?

<br>

### 취약점 점검 및 모의해킹 수행방안 ⚔️

- 라우터, 스위치 등 네트워크 장비 구성 및 설정 취약점
- 서버 OS 보안 설정 취약점
- 방화벽 등 정보보호시스템 취약점
- 어플리케이션, 웹, 앱 취약점
- IoT 기기 및 근거리 무선 네트워크 취약점
